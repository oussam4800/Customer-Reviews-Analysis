# CIH Bank (Morocco) â€“ Customer Reviews Analysis

*A Modern Data Stack project for sentiment and topic analysis of Google Maps reviews.*
--

## Project Objective

This project aims to extract, process, and analyze **Google Maps customer reviews** collected from **107 CIH Bank branches across Morocco** in order to:

- Monitor the **distribution and evolution of customer sentiment** over time
- Identify **recurring positive and negative themes** in customer feedback
- Provide **actionable insights** through an interactive BI dashboard

---

## Technology Stack

| Layer | Tools & Technologies |
|------|----------------------|
| Data Collection | **Python**, **Selenium** |
| Orchestration | **Apache Airflow** (manual execution at 3 time slots) |
| Transformation | **dbt** + **SQL** |
| NLP & Analytics | **Python**, Hugging Face (sentiment analysis), **Latent Dirichlet Allocation (LDA)** for topic modeling |
| Storage | **PostgreSQL** |
| Visualization | **Power BI** |

---

##  Pipeline Architecture

The data pipeline follows a modern, modular architecture:

1. **Web Scraping**  
   Google Maps reviews are collected and stored in the table:
   - `resultats_cih_banque_final`

2. **NLP Processing**  
   - Sentiment classification (positive / neutral / negative)
   - Topic extraction using LDA  
   Results are stored in:
   - `CIH_analysis_results`

3. **Data Modeling**  
   - Star schema modeling
   - One fact table and two dimension tables:
     - `fact_reviews`
     - Dimension tables (e.g. time, location)

4. **BI Export**  
   - Curated analytical tables exported to **Power BI** for visualization

---


## Power BI Dashboard Features

The interactive dashboard provides a comprehensive view of customer perception through:

- **Word Cloud**: dominant topics extracted from reviews
- **Sentiment Histogram**: positive / neutral / negative distribution
- **Sentiment Probability Distribution**
- **Geographical Map**: aggregated sentiment scores by city
- **Scatter Plot**: temporal evolution of sentiment scores
- **Gauge**: ratio of positive topics vs. total topics
- **Top Topics List**: most frequently mentioned themes

---

## Key Outcomes

- Centralized and automated customer feedback analysis
- Clear visibility into customer satisfaction drivers
- Scalable architecture aligned with Modern Data Stack best practices

---

## Notes

- Airflow DAG is triggered manually to control scraping windows
- The project is designed to be extensible to other banks on Google Maps platform
- The scraping algorithm is manly generated by clod, then modified to fit our need

---

## How to Tweak This Project for Your Own Use

This project was developed in an academic context and prioritizes analytical clarity over full automation.  
For production or large-scale use, the following improvements are recommended:

**Scalability.**  
The current Selenium-based scraping approach is suitable for a limited number of sources but may not scale efficiently. For larger deployments, replacing it with official APIs or asynchronous scraping frameworks would improve performance. NLP components can also be optimized through batch processing or incremental model inference and better models.

**Automation.**  
Airflow workflows are triggered manually to control data collection windows. In a production setting, these DAGs could be fully automated using scheduled or event-driven execution, monitoring and alerting mechanisms to ensure pipeline reliability.

**Reproducibility and Deployment.**  
The project can be made more reproducible by containerizing the stack and externalizing configuration through environment variables. Versioning data models, dbt artifacts and NLP outputs would further support maintainability and collaborative development.


---
